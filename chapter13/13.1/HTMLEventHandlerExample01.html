<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>html标签对于事件的响应</title>
</head>

<body>
  <!-- 事件处理程序中的代码在执行时，有权访问全局作用域中的任何代码。 -->
  <input type="button" value="showMessage方法" onclick="showMessage()">

  <!-- 输出事件对象 -->
  <input type="button" value="showEvent方法" onclick="showEvent(event)">

  <!-- 输出this对象的value值 -->
  <input type="button" value="showValue方法" onclick="showValue(this.value)">

  <c onblur="showMessage()">c调用 showMessage方法</c>


  <p>
    <b>分支问题：</b>
  </p>

  <ul>
    <li>每个事件的触发机制是如何产生的？（初学者的角度来看，“事件”的名称在标签上的体现不过是一个类似属性的结构onclick="showMessage()"）</li>
    <li>是否可以自定义一个事件？</li>
  </ul>

  <p>
    <b>回答：</b>
  </p>

  <ul>
    <li>
      通过ast分析<a href="https://astexplorer.net/">ast explorer</a>，我们可以通过ast解析出来的语法树，看到TextAttribute属性下。也就是说，浏览器在标签的解析，对待事件和任意属性是相同的。
    </li>
    <li>可以通过 new Event() 创建一个全新事件，再通过ele.dispatchEvent()方法派发事件</li>
  </ul>

</body>
<script>
  function showMessage() {
    alert('Hello world!');
  }

  function showEvent(event) {
    console.log('event: ', event);
  }

  function showValue(value) {
    console.log('value: ', value);
  }
</script>

</html>